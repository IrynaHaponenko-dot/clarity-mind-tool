<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Clarity Mind | Thinking Tools</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;600&family=Inter:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --bg: #0d1117;
        --card-bg: #161b22;
        --border: #30363d;
        --text: #c9d1d9;
        --accent: #58a6ff;
        --accent-dim: #1f6feb;
        --success: #238636;
        --f-color: #79c0ff; /* Fact */
        --h-color: #d2a8ff; /* Hypothesis */
      }

      body {
        font-family: "Inter", sans-serif;
        background-color: var(--bg);
        color: var(--text);
        margin: 0;
        display: flex;
        flex-direction: column;
        min-height: 100vh;
      }

      /* HEADER */
      header {
        padding: 20px;
        text-align: center;
        border-bottom: 1px solid var(--border);
        background: var(--card-bg);
      }

      header h1 {
        font-family: "JetBrains Mono", monospace;
        font-size: 1.2rem;
        margin: 0;
        letter-spacing: 1px;
        color: var(--accent);
      }

      header span {
        font-weight: 300;
        color: #8b949e;
      }

      /* MAIN LAYOUT */
      .container {
        flex: 1;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 40px 20px;
      }

      .window {
        width: 100%;
        max-width: 800px; /* Для 2 та 3 екранів */
        background: var(--card-bg);
        border: 1px solid var(--border);
        border-radius: 8px;
        padding: 30px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        display: none;
      }

      .window.active {
        display: block;
      }

      /* Step 1: 50% width look */
      #step1.active {
        max-width: 500px;
        text-align: center;
      }

      /* TYPOGRAPHY */
      h2 {
        font-family: "JetBrains Mono", monospace;
        font-size: 1.5rem;
        margin-top: 0;
      }
      p {
        color: #8b949e;
        font-size: 0.95rem;
      }

      /* FORM ELEMENTS */
      textarea,
      input,
      select {
        background: #0d1117;
        border: 1px solid var(--border);
        color: var(--text);
        padding: 12px;
        border-radius: 6px;
        font-family: "JetBrains Mono", monospace;
        width: 100%;
        box-sizing: border-box;
        margin-bottom: 15px;
      }

      table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
      }
      th {
        text-align: left;
        padding: 10px;
        color: var(--accent);
        font-size: 0.8rem;
        text-transform: uppercase;
      }
      td {
        padding: 8px;
        border-bottom: 1px solid var(--border);
      }

      /* BUTTONS */
      .btn {
        background: var(--accent-dim);
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 6px;
        cursor: pointer;
        font-family: "JetBrains Mono", monospace;
        font-weight: 600;
        transition: 0.2s;
        display: inline-block;
      }

      .btn:hover {
        background: var(--accent);
      }
      .btn-copy {
        background: var(--success);
        margin-top: 10px;
      }

      /* FOOTER */
      footer {
        border-top: 1px solid var(--border);
        padding: 30px 20px;
        background: var(--card-bg);
        font-size: 0.85rem;
      }

      .footer-content {
        max-width: 800px;
        margin: 0 auto;
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        flex-wrap: wrap;
        gap: 20px;
      }

      .footer-links a {
        color: var(--accent);
        text-decoration: none;
        margin-right: 15px;
      }
      .footer-links a:hover {
        text-decoration: underline;
      }

      /* HELPER BOX */
      .helper-box {
        background: #000;
        padding: 15px;
        border-radius: 6px;
        border-left: 4px solid var(--success);
        font-family: "JetBrains Mono", monospace;
        font-size: 0.85rem;
        white-space: pre-wrap;
        margin: 20px 0;
      }

      .tag-select {
        width: auto;
        min-width: 120px;
        margin: 0;
      }
      /* Оновлені кнопки у футері */
      .footer-btns {
        display: flex;
        gap: 12px;
        flex-wrap: wrap;
        margin-top: 10px;
      }

      .btn-footer {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 8px 16px;
        border-radius: 6px;
        text-decoration: none;
        font-family: "JetBrains Mono", monospace;
        font-size: 0.8rem;
        font-weight: 600;
        transition: 0.2s;
        border: 1px solid var(--border);
      }

      .btn-linkedin {
        background: #0077b5;
        color: white;
        border: none;
      }

      .btn-linkedin:hover {
        background: #005a8a;
      }

      .btn-mono {
        background: #fff;
        color: #000;
        border: none;
      }

      .btn-mono:hover {
        background: #e5e5e5;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>CLARITY MIND <span>// THINKING TOOLS</span></h1>
    </header>

    <div class="container">
      <div id="step1" class="window active">
        <h2>System.init()</h2>
        <p>
          Це інструмент для дефрагментації думок. Ми вивантажимо хаос,
          відфільтруємо шум та створимо промпт для AI-асистента.
        </p>
        <button class="btn" onclick="showStep(2)">Розпочати сесію</button>
      </div>

      <div id="step2" class="window">
        <h2>Data Dumping</h2>
        <p>Запиши кожну думку та признач їй тип. Не аналізуй на цьому етапі.</p>

        <table id="dumpTable">
          <thead>
            <tr>
              <th>Думка / Варіант</th>
              <th style="width: 150px">Тип</th>
            </tr>
          </thead>
          <tbody id="tableBody"></tbody>
        </table>
        <button
          class="btn"
          onclick="addRow()"
          style="
            background: transparent;
            border: 1px dashed var(--border);
            margin-top: 10px;
            width: 100%;
          "
        >
          + Додати рядок
        </button>

        <div style="margin-top: 30px; text-align: right">
          <button class="btn" onclick="processFilters()">
            Запустити фільтр реальності
          </button>
        </div>
      </div>

      <div id="step3" class="window">
        <h2>Reality Output</h2>
        <p>
          Ми залишили лише <b>Факти (F)</b> та <b>Гіпотези (H)</b>. Обери один
          вектор для роботи:
        </p>

        <select id="finalSelect"></select>

        <label>Твій наступний крок (конкретна дія):</label>
        <input
          type="text"
          id="finalAction"
          placeholder="Наприклад: 'Створити репозиторій на GitHub'"
        />

        <div id="aiSection" style="display: none">
          <h3>AI Helper Prompt</h3>
          <p>Скопіюй цей текст у ChatGPT для детального розбору кроку:</p>
          <div class="helper-box" id="promptText"></div>
          <button class="btn btn-copy" onclick="copyPrompt()">
            Копіювати промпт
          </button>
        </div>

        <div style="margin-top: 20px">
          <button class="btn" onclick="generatePrompt()">
            Згенерувати промпт
          </button>
        </div>
      </div>
    </div>

    <footer>
      <div class="footer-content">
        <div style="flex: 1; min-width: 250px">
          <strong>Clarity Mind v1.0</strong><br />
          <span style="color: #484f58"
            >No cookies. No tracking. Pure logic.</span
          >
        </div>

        <div class="footer-btns">
          <a
            href="https://www.linkedin.com/in/iryna-haponenko-1087072a0/"
            target="_blank"
            class="btn-footer btn-linkedin"
          >
            <svg width="14" height="14" fill="currentColor" viewBox="0 0 16 16">
              <path
                d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"
              />
            </svg>
            LinkedIn
          </a>

          <a
            href="https://www.buymeacoffee.com/IrynaHaponenko"
            target="_blank"
            class="btn-footer btn-mono"
          >
            <span>☕</span>
            Support Author
          </a>
        </div>
      </div>
    </footer>

    <script>
      function showStep(n) {
        document
          .querySelectorAll(".window")
          .forEach((w) => w.classList.remove("active"));
        document.getElementById("step" + n).classList.add("active");
        if (
          n === 2 &&
          document.getElementById("tableBody").children.length === 0
        ) {
          for (let i = 0; i < 3; i++) addRow();
        }
      }

      function addRow() {
        const tbody = document.getElementById("tableBody");
        const tr = document.createElement("tr");
        tr.innerHTML = `
            <td><input type="text" class="idea-input" placeholder="Що в голові?"></td>
            <td>
                <select class="tag-select">
                    <option value="I">I — Ідея</option>
                    <option value="H">H — Гіпотеза</option>
                    <option value="F">F — Факт</option>
                    <option value="D">D — Бажання</option>
                    <option value="M">M — Мрія</option>
                    <option value="A">A — Тривога</option>
                </select>
            </td>
        `;
        tbody.appendChild(tr);
      }

      function processFilters() {
        const rows = document.querySelectorAll("#tableBody tr");
        const validItems = [];

        rows.forEach((row) => {
          const text = row.querySelector(".idea-input").value;
          const tag = row.querySelector(".tag-select").value;
          if (text && (tag === "F" || tag === "H")) {
            validItems.push({ text, tag });
          }
        });

        if (validItems.length === 0) {
          alert("Для кроку 3 потрібні Факти або Гіпотези. Змініть маркування.");
          return;
        }

        const select = document.getElementById("finalSelect");
        select.innerHTML = "";
        validItems.forEach((item) => {
          const opt = document.createElement("option");
          opt.value = item.text;
          opt.textContent = `[${item.tag}] ${item.text}`;
          select.appendChild(opt);
        });

        showStep(3);
      }

      function generatePrompt() {
        const choice = document.getElementById("finalSelect").value;
        const action = document.getElementById("finalAction").value;

        if (!action) return alert("Впишіть перший крок");

        const prompt = `Привіт. Я використовую інструмент Clarity Mind. 
Мій обраний фокус: "${choice}"
Мій перший крок: "${action}"

Допоможи мені:
1. Декомпозуй цей крок на 3 під-задачі по 15 хвилин кожна.
2. Визнач можливі "підводні камені" для цієї дії.
3. Дай одну коротку пораду, як не відкласти це на завтра.`;

        document.getElementById("promptText").innerText = prompt;
        document.getElementById("aiSection").style.display = "block";
      }

      function copyPrompt() {
        const text = document.getElementById("promptText").innerText;
        navigator.clipboard
          .writeText(text)
          .then(() => alert("Промпт скопійовано!"));
      }
    </script>
  </body>
</html>
